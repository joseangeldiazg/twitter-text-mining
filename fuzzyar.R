#**********************************************************
# REGLAS DE ASOCIACIÓN DIFUSAS
#**********************************************************

#La idea es usar reglas de asociación difusas, para ello, vamos a obtener conjuntos
#difusos sobre el texto completo basandonos en el tf-idf. 

str(items)

#Para poder trabajar mejor vamos a quedarnos con los datos del caso de uso

getIndexByNames<-function(items, salida)
{
  for(i in 1:140718)
  {
    if ("donald-trump" %in% items[[i]]==TRUE)
    {
      salida<-c(salida,i)
    }
    else if ("hillary-clinton" %in% items[[i]]==TRUE)
    {
      salida<-c(salida,i)
    }
  }
  return(unique(salida))
}

salida<-c(1)
indexFuzzy<-getIndexByNames(items, salida)
itemsFuzzy<-items[indexFuzzy]


#creamos transacciones

transactionsFuzzy <- as(itemsFuzzy, "transactions")
dataFuzzy<-as.matrix(transactionsFuzzy@data)
str(dataFuzzy)
dataFuzzy<-t(dataFuzzy)
str(dataFuzzy)
colnames(dataFuzzy)<-transactionsFuzzy@itemInfo$labels
rownames(dataFuzzy)<-paste("tweet", 1:1932, sep = "-", collapse = NULL)

df.FuzzyRules<-as.data.frame(dataFuzzy)
cols <- sapply(df.FuzzyRules, is.logical)
df.FuzzyRules[,cols] <- lapply(df.FuzzyRules[,cols], as.numeric)

#Hemos detectado algunos caracteres raros

borrarLargas<-transactionsFuzzy@itemInfo$labels[nchar(transactionsFuzzy@itemInfo$labels)>15]

dim(df.FuzzyRules)

4654-477
#4177

stringBorrar<-paste(borrarLargas, collapse = ", ")
df.FuzzyRules<-select(df.FuzzyRules,-c(abcnewsgocompoliticsgabby, advocatecomelection, aebaaefautmcampaignhpfbpagesutmsourcewomenfbutmmediumfacebookncidfcbklnkushpmg, akingambchrisstevensssisterreleasesstatementabouthillaryclinton, aldtrumpatohiorallyimmigrantgangmemberswilltortureandkillteenagegirlswxkpaddlrktwitter, aldtrumpatohiorallyimmigrantgangmemberswilltortureandkillteenagegirlswxkqrbkeuwtwitter, aldtrumpbanstransgenderpeoplefromusmilitary, aldtrumpdavenportia, aldtrumpisresponsibleforhisownbehaviorbuthispresidencyisthefaultoftheamericanpeople, aldtrumpreachesdelegatewhatnow, alexpouchercomhillaryclinto, alternetorgelection, americanbazaaronlinecomhil, americanpatriotdailycomlatestshockin, americanpowerblogblogspotcomlatest, amsncomenusaaost, andonaldtrumpukeaaebaaebaf, annefranksstepsisterhasstrongwordstosayaboutdonaldtrump, anstransgenderpeoplefromservinginusmilitaryduetodisruptiontheywouldcause, anywhereyankefan, apiyoureonmediaclientshowca, applenewsaicstscrowcp, applenewsapgbfllvesk, applenewsaufqtksbdrkou, applenewsauwfldhptystk, applenewsavuakinkttie, applenewsawniseuuojix, areandroidapptweet, aryclintonbenghazidamagehasbeendonenrpbf, bayareanewshixdq, bbccouknewsworldus, bearingarmscombobo, benghazisurvivorhammershillaryclintonmnraad, berniesandersscareddeathhillaryclintonwilllosedonaldtrump, billboardcomarticlesnews, bipartisanreportcomwat))
df.FuzzyRules<-select(df.FuzzyRules,-c(blogtheadministrationopiniondemocratstimetowishhillaryclintongoodwxkmibolqmtwitter, blogtheadministrationopiniondemocratstimetowishhillaryclintongoodwxkqyoeyotwitter, bloombergcomnewsvideos, bluemountaingroupembededwithansaralshariahterrorists, bostonheraldcomnewsuspoliti, bouttoturnondonaldtrumpjasonwilson, breakingselzergiveshillaryclintonaleadinfinaliowapoll, breitbartcombiggovernment, breitbartcompresident, breitbartcomvideo, buddylistcovideoview, caitlynjennerdonaldtrumpchampionwomenandlgbtpeoplevrfdmctyiutwitter, caitlynjennerdonaldtrumpchampionwomenandlgbtpeoplevrfrvhjgotwitter, caitlynjennertrumptransgendermilitaryban, canadatransgendermilitarytrumpban, candamericacstiersofrepublicancandidates, cardstwittercomcardsceao, cbccabetanewspoli, cbccanewspolitics, cbslocaluwzpuwwxko, cbsnewscomnewsnraprod, cbsnewscomnewssenatepa, cbsnewscomvideosdonald, ceprnetblogsbeatthe, changeorgphillaryclin, changeorgprandallstep, chdonaldtrumpparodiedonsesamestreetasdonaldgrumpvideo, chedulecategorythejasonchinharoldcabaret, chrischristietrendolizercomtryru, chrisstevenssfamilydontblamehillaryclintonforbenghazi, chrisstevenssfamilydontblamehillaryclintonforbenghazimbidnltnytemplatewithphotocndidspmailingidspuseridmtmwnjuotcwnzuzsspjobidspreportidotqyoduotqs, chsarahpalingetsstumpedbyhardballquestionfromyearoldaboutsupportforsexistdonaldtrump, citymuslimscomwhyeuropeans))
df.FuzzyRules<-select(df.FuzzyRules,-c(clevarietycaitlynjennerslamsdonaldtrumpovertransgenderrpenskemcwxkqsuxcctwitter, clintonhillaryrodham, clintonmostcorruptpoliticianof, cnncomvideospolitic, cnnskingthinkdonaldtrumpcantwinwrong, collegehumorcompostd, commondreamsorgnews, conservativecomwatchcarlyfi, conservativereviewcomarticlesarres, corruptmediaforhillary, crooksandliarscomtime, csamikepencebetterdonaldtrump, csexpertsauditjustifiesfbispushforhillaryclintonindictment, ctionspresidentialcaucusdonaldtrumpreclaimsleadlatestiowapoll, daddiesforhillary, dailycallercomtop, dailyeeuutusueldocomzpj, dailyeeuutusueldocomzpk, dailykoscomstory, dailymailcouknewsarticle, dailyrapidcomdonald, dancedancemusiccommunityreactsdonaldtrumpsbantransgenderservingmilitary, daysbeforeiowahillaryclintoncontinuestohitberniesandersonhisgunrecord, desmoinesregistercom, desmoinesregistercomstorynewsele, didatedonaldtrumpattendsdcrollingthunderrallypicturesandvideo, dmjqdljkrwrmwrsspubjfrxjlqonxedlfinkqxofpxmjdduljlzucdmmmhl, donaldjtrumpcomiowacaucusfi, donaldtrumpdemandsobamacarevotefromsenaterepublicans, donaldtrumpholdingmothersbibleappealstoevangelicalsiwillneverletyoudown, donaldtrumpjrslifeinhisfathersshadowvideo, donaldtrumpneverpresidentutmcampaignvoxutmcontentarticleafixedutmmediumsocialutmsourcetwitter, donaldtrumpreclaimsleadinhtmlvqoepikogtwitter, donaldtrumpreclaimsleadinhtmlvqoepikogtwitteranncoulter, donaldtrumptweetsplantobantransgenderpeoplefrommilitaryutmtermautofeedutmcampaignechoboxutmmediumsocialcmpidsocnsnsechoboxutmsourcetwitterlinktime, donaldtrumpvowstortureagainiwaterboardinglot, donaldtrumpwillattacklgbtpeoplewheneverhestrouble, downtrendcomsuperbuhoh, draftdodgerdonaldtrumpjust, dragpluscompostid, dtrumphasapercentchanceofbecomingpresident, dtrumphillaryclintonindictemailid, ebutthistweetfinallygotchrissyteigenblockedbydonaldtrumputmsourcesocialmobutmmediumcpcutmterminfluencerutmcontentumtscdesnsumtctdbgxsbmvngnzjbgluchg, efourchartsonraceandmurderinamericatotweetbackatdonaldtrump, ellezsandascomdonald, entdonaldtrumpkeepssayinghtml, envergovhickenlooperdefendssupportinghillaryclintononfacethenation, eonlinecomshowsiamcai, erdonaldtrumpisplayingliberalsandconservativesperfectlyarticledeaffeeaefebhtml, erformerelitenavysealhtmltsrcfauxdal, erserafinowiczdubbeddonaldtrumpspeechcockneyaccenthilariousvqmwbsgojmtwitter, ertotrumpontransban, esquirecomnewspolitics, estadosunidoshtml, estreamdonaldtrumprallyindavenportiaattheadlertheatrepmest, ettounveilbillioninvestmentfromapplesupplierfoxconn, eyeonamericanewscomdon, fbicouldforcedojprosecutehillaryclinton, featurestransgenderwhatitmeans, feedproxygooglecomrbreitbart, feedswashingtonpostcomcf, filmtickercombreakingnews, fivethirtyeightcomfeaturesdonal, flexitwitscomdonaldtrumpt, forbescomsitespaulrode, foreignaffairscomarticles, forumtheworldnewsmediaorgtopicwi, foxnewscompolitics, freethedelegates, freethoughtblogscom, freethoughtblogscomsingham))
df.FuzzyRules<-select(df.FuzzyRules,-c(fthepeopleofamericahavetorevoteinpresidentialelectionsdonaldtrumporhillaryclintonanswergaryportershare, fundraisingindictclinton, gagaendedtrumpparty, gallupcomopinionpollin, giffordsmakesemotionalpleahillaryclintoncaucusstoryid, gingtrumptweetsmilitarypolicy, gmatterstrumpnegativeimageaspx, goclipdashzwrcxyuwndvzq, goclipdashzwrczlduydvzq, googlecomampwwwlatime, gproofthemediaisconspiringwithhillaryclintontorigtheelection, grabiencomstoryphpid, gratitudeinwords, grumpsaesthetics))
df.FuzzyRules<-select(df.FuzzyRules,-c(gtonpostpresidentdonaldtrumpandwisconsingovscottpresidentdonaldtrumpandwisconsihtml, guesslinksglobalcomdonaldtrumpb, harpersbazaarcomculturepoliti, headhousebenghaziprobesayshillaryclintonwipedemailservercleanhtml, hensonboyscoutsofamericastripdonaldtrumpofhishonorarypresidencyrecruiterutmsourcesharepetitionutmmediumtwitterutmcampaignsharepetitionutmtermpetitionsignerreceiptptavbldglawuakmtqaaaaaawxkkzcvmovowmtimguzywdd, herearetimesdonaldtrumppromisedtofightforlgbtqrightsmllaexlj))
df.FuzzyRules<-select(df.FuzzyRules,-c(hillaryclintonbooksetdropseptembercanbesummarizedtwowordsrussiacomey, hillaryclintoncaughtbraggingaboutfailedglobalhealthinitiativevideo, hillaryclintonchangeamericaneeds, hillaryclintondoctrinecidsoctwrdr, hillaryclintonfoundationstatearmsdeals, hillaryclintonkeepingappearancesemai, hillaryforprison, howmittromneystilltakedowndonaldtrump, huffingtonpostcomentrydonaldt, huffingtonpostcomentryjaketap, huffingtonpostcomentryobamatr, huffingtonpostcomlisabloomwhy, huffingtonpostcoukentrydonaldt, huffingtonpostcoukentrysadiqkh))
df.FuzzyRules<-select(df.FuzzyRules,-c( humanrightscampaign, ialracedonaldtrumprollingthunderamazingthing, ialraceexclusivesecretserviceagentbookraginghillaryclintonthrewbibleatagentscolleague, ialracehillaryclintondrivelessreducepersonaluseofelectricitytohelpstopclimatechange, ialracehuffingtonpostremoves, ialraceobamapopulistnotdonaldtrump, ibtimescompoliticalcapi, icdancemusiccommunityslamsdonaldtrumptransgendermilitarybanwearebetterthanthis, idahostatesmancomlatestnewsar, idiottranslation))
df.FuzzyRules<-select(df.FuzzyRules,-c(iesandersdeclinestoendorsehillaryclintondoyouagreewithhisdecision, igetfrustratedwhen, incitingariotcomidid, independentcouknewsworldame, independentcouknewsworldd, inghopelocallyintheageoftrumpcontentoid, inquisitrcomhillar, internacionalelpaiscominternacional, ioimprovcomchicagoshows, istandwithtranspeople, iticalanimalssimannounced, itxlexiecomdonald, jamboreepresident, janiowacaucuspresidentialcampaignelectionsandersclintontrumpcruz, jeffsessionsamanwhoembodiesthemovementthatelecteddonaldtrumppresidentamp, jftbaboysoftscomgka, juljohnmccainhealthcaresenatevoterepublicanscmpshareandroidapptweet, justicerealdonaldtrump, kansancomopinionspring, kennedyssoundgardennirvana, kielarowskinetdon, lanapaulqueenqueenpresident, laryclintonpromisesgreencardstoallfvisastudentswhograduatewithamastersdoctoraldegree, laryclintontechplatformxcdtuax, lbreitbartnewsdonaldtrumpjeffsessionswhitenationalism, lbreitbartnewsdonaldtrumpjeffsessionswhitenationalismcmpshareandroidapptweet, lbreitbartnewsdonaldtrumpjeffsessionswhitenationalismcmpsharebtntw, lbreitbartnewsdonaldtrumpjeffsessionswhitenationalismcmpshareiosappother, ldtrumpkeepssayinghellraisetaxesontherichheslyingcnbcafeehtml, ldtrumpmeetswithlebanonprimeministerhariripotussaadhariri, ldtrumpparticipatesinjobsannouncementatthewhitehouse, ldtrumpvisitsboyscoutjamboree, leftrightcenteror, liberationfrplanete, lithubcomrebeccasolnit, liticspresidentialbaeronelizabethwarrenedrendellanddonaldtrumphtml, lnisbipartisanrepo, lnissocospacemkz, lniswashingtonpost, lniswwwbreitbart, lniswwwinfowarsc, lniswwwpoliticusu, lniswwwtheblazec, lniswwwtheguardia, lusivetrumpsmadeinamericaslogandoesntapplytoivankahtml, magiquizcomquizdonaldtr, makeamericagreatagain, marklevinaccusestrumpofmimickinghillaryclintonwitheconomicpolicyutmsourcetwitterutmmediumstoryutmcampaignsharebuttons, mbeforeitsnewscomconspiracythe, mdailykoscomstories, mediumcombenjaminhartb, mhuffpostcomusentryus, mobiledemocratsdidwhatcom, modelinfuriating, moinesregisteronlinepollomitsfrontrunnerdonaldtrumpasvoteoptionmore, motherjonescompolitics, mounttrumpsocialmediareactsdonaldtrumpjokesaddedmountutmcampaignapesterutmsourcetwitterutmcampaignapesterutmsourcetwitter, mpavoidedthedraftahelpfulreminder, mpavoidedthedraftahelpfulreminderwxkqbcfactwitter, mpavoidedthedraftahelpfulreminderwxkqwggfexmtwitter, myajccomnewsnewshill, naldtrumprallyindavenportia, nalpaintingservicespostshsjdlpbszzd, nationfoxnewscomhow, ncjsqfeatureshare, ndtvcomworldnewsdon, neldropsexpectedtestimonyfrommanaforttrumpjr, newrepubliccomminutes, newsahowiecarrdonaldtrumpnativeamericans, newsbreakoutscomcanadapromote, newscientistcomarticle, newslockercomenusnewsmus, newslockercomenusregiond, newsmasterappcomarticlei, newsmaxcompoliticsdonal, newsmovingmarketscompresid, newsmovingmarketscomsarah, newtgingrichtheelitemediaareterrifiedofdonaldtrump, newyorkercommagazine, newyorkercomnewsnewsdesk))
df.FuzzyRules<-select(df.FuzzyRules,-c(nholcombawesomebenghazisurvivorozchallengesnevertrumptovoteinnewnraadnutmsourcethdailypmutmmediumemailutmcampaignnlpmnewsletterad, nicolasmadurocancer, nigerianewscomdonaldtrumps, nionsundayhillaryclintonendorsementhtml, nionsundayhillaryclintonendorsementhtmlpartnerifttt, njufdfcupwwkakvxskkooacbtcedjtxudazqdrlshgvxdddrbjueew, nningforgovernorintheshadowofchrischristieanddonaldtrumphtml, notcongressionalrepublicanshtml, noticiassocialdmooocomnt, nrailadonateorgstophillaryad, nresurfaceswashingtoncallamericansresisttrumpinstantlygetsshut, nsgenderpeoplewillnotbeacceptedinusmilitaryinanycapacitytrumptweets, nsthebestjokesaboutdonaldtrumpwtmcidtmgsharetw, nthsandchangetrumppresidencyhtml, ntriestowinoversiliconvalleywithnewtechplatform, obamadonaldtrumppopulistutmcampaignvoxutmcontentarticleafixedutmmediumsocialutmsourcetwitter, obamatrendolizercomhillar, ocratsdebatesrachelmaddowhillaryclintonberniesandershtml, ofanopenlettertomychildrenaboutdonaldtrumpbaeeuabji, onaldtrumpadhitshillaryclintonoverbenghazi, onaldtrumpandkanyewestarebasicallythesameperson, onaldtrumpdangerousmentalillnessyalepsychiatristconferenceuspresidentunfitjamesgartnerahtml, onedollarhostingcomisbreitbarta, onenewspageusnentertainmen, orbitcollectioninnewstw, oregonlivecompoliticsindex, orieswowtheshockingtruthabouthilaryclintonmissingtrillionsassassinationshtml, orinaslamhillaryclintonforhershamofamarriageandenablinganadulterouspigofahusband, oskipfoxnewsdebateovermegynkelly, outspresidentrandallstephensonhasbeenlobbyingdonaldtrumptoapprovetheatttimewarnermerger, oxpresidentialracesgingrichhillaryclintonliesallthetimevrgeqieoktwitter, papermagcomgametrumppoo, parisforpresident, paulsingerdonaldtrumpwillcausewidespreadglobaldepression, peacethrutruthcom, perdonaldtrumpusbeebdacfade, phillycomphillynewspo, plusgooglecomtomsprofessio, politicsrepublicansattackhillaryclintonoverclassifiedemailshtmlpartnerifttt, politicstusueldocomkso, politicususacomdem, powertothepeople, presidentdonaldtrumpgivesmajorspeechonhealthcaretrumpobamacarenews, presidentialelectionof, pressdonaldtrumpisconfusedohiohasbeenlosingmanufacturingjobssincehetookoffice, primaireslenewyorktimeschoisithillaryclintoncommeen, protecttranstroops, pscptvwaxdydewntcw, pscptvwbeecjfwempn, pscptvwbeezdfetevc, pscptvwbeezqdfetevc, publicbooksorgfeaturetrump, qmvdkfeatureshare, quoracomwhowillwini, rallyresistpersistcomblogopenlett, ransitionofdonaldtrumpsecurity, rdphpcardidduidtwitter, readsvotehillaryclintonforpresidentshortsleevetshirtutmsourcereviveoldpostutmmediumsocialutmcampaignreviveoldpost, realtimepoliticscombre, reframedtvvqglqbm, registerbloomberg, rerzwtwspmwrsspubjfrxjlqogeirrudjfjamqwvsyezrscikxavnwvcekqx, rerzwtwspmwrsspubjfrxjlqrkosdclhcmhtphodbjyjwbdldcsumehr, resdonaldtrumpdoesntwantloyaltyhewantsfealtyw, resdonaldtrumpdoesntwantloyaltyhewantsfealtywutmsourcersnewsletterutmmediumemailutmcontentdailyutmcampaign, residentdonaldtrumphugeannouncementonjobsandeconomyhtml))
df.FuzzyRules<-select(df.FuzzyRules,-c(reverbpresscomnewsdraftdod, ricasdonaldtrumpillegalimmigrantsanimalsslicediceyoungbeautifulgirlsuspresidentahtml, ricasuselectionshillaryclintonreceivesendorsementfromgunsurvivorgabbygiffordsahtml, rickgregoryhowbenghazicanstillhurthillaryclintonccef, rochestercitynewspapercomrochesterfind, rockpapershotguncompol, rollingstonecompoliticsfeatu, rsbntvlivestreamdo, rtofsaudiandhillaryclintonfunding, rumptransgendermilitaryusaebcfa, rumptransgenderpeoplenotallowedserveusmilitaryukaebedef, rushlimbaughcomdaily, ryclintonaidesaysemailsystemfrustratedsecretaryofstate, salutingmarinegetsmarriedpresencedonaldtrumpannualmemorialdayweekendrollingthunderrunhtmlitonsmchannelrssnscampaign, sandersdonaldtrumpprioritizinghtml, santellercomvideotrumpsa, scompoliticsclintonaidefbisnapstoryamphtml, scottwalkertrendolizercomlivep, scottwalkertrendolizercomwashin, sdfbfscllsnytimesncacaccuscpoliticscrepublicanseattackehillaryeclintoneovereclassifiedeemailsbhtmldpartnerfrssgemcfrssstoryhtm, sdfsclmswashingtonpostncnewscpostepoliticscwpcacacacaneannoyedebernieesandersesaysehillaryeclintoneisemisrepresentingehiserecordcstoryhtm, seinnewscomahmifwx, sevenreasonswhybernieshouldterrifyhillaryinfographic, shareswikileaksinfoonhillaryclintonemails, shewillsayanythingandchangenothing, shortsharpshockblogspotcomsixmo, socialdennefamily, southendnewsnetworkcomnewsdonaldtr, sportsvicecomenushighligh, srecruitmentoftransgendertroopsasdonaldtrumpimposesmilitaryban, ssfronwydenmakesitofficialhehtml, standwithtranstroops, startattnetnewsreadarti, statespollcompost, stellasplacecomliv, stephencolbertdebatedonaldtrumputmcampaignvoxutmcontentarticleafixedutmmediumsocialutmsourcetwitter, stephencolbertdebatedonaldtrumputmcampaignvoxutmcontentarticleatoputmmediumsocialutmsourcetwitter, strongertogether, strumpjamielshawnvfreedomfestnrsotcnn, supernodercomnewsiumphpre, talkingpointsmemocomlivewiretrump, talkleftcomstory, talmoneypoliticstopunionbossesslamdonaldtrumpfraudtradeechohillaryclinton, tecnpgdancemusiccommunityslamsdonaldtrumptransgendermilitaryhtm, teddemitstaffersattorneyismajorclintonally, teespringcomdonaldtrumpcan, telegraphcoukcomedycomedia, telegraphcouknews, theblazecomstories, theconservativetreehousecomcan, theconservativetreehousecomdes, theguardiancomcommentisfree, theguardiancomglobalju, theguardiancomusnewsj, theguardiancomusnewslive, thehillcomblogsballotb, thehillcomblogspundits, thelonelinessofdonaldtrump, thenewchildrapecabhtml, thephasercomtrump, theresahighprobabilitynatesilveriswrongagainaboutdonaldtrump, thetimestimestrendolizercomdonald, thetrannyrevoltiscomingafterdonaldtrumpundefineduxfs, thetvthatcreateddonaldtrumpmbidsynddiggutmsourcediggutmmediumemail, theunitedvoiceofamericacomdonaldtrump, theweekcomarticles, thewrapcomhowdonaldtru, thezoginfowhocontrolsd))
df.FuzzyRules<-select(df.FuzzyRules,-c(thheremailscandalhillaryclintonisoutofexcusescharliegerowpennlivecomutmsourcedlvritutmmediumtwitter, thinchillaryclintontoiletpaperutmsourcereviveoldpostutmmediumsocialutmcampaignreviveoldpost, ticscanadatransgendermilitarytrumpban, tinyurlcomhbxbua, tinyurlcomjdawlk, tinyurlcomzsxmes, tlynjennerpraisesdonaldtrumpasverymuchforwomen, tmblrcozdkcxofae, tmblrcozfrigytfxgj, tmblrcozheavvtfc, tmblrcozqexqmtem, tmblrcozqofhofwa, tnewscaitlynjennerpraisesdonaldtrumpheseemsverymuchbehindthelgbtcommunity, tonhillaryclintondropoutofthepresidentialelectionrecruiterutmsourcesharepetitionutmmediumtwitterutmcampaignsharetwitterresponsive, townhallcomtipsheetjusti, transgenderformerelitenavysealchallengesdonaldtrumptell, transgenderformerelitenavysealchallengesdonaldtrumptellwtmcidtmgsharetw, transgendernavysealtodonaldtrumpletsmeetfacetofaceandyoutellmeimnotworthy, transgendernavysealtodonaldtrumpletsmeetfacetofaceandyoutellmeimnotworthydetailfacebook, translivesmatter, transmilitaryban, transrightarehumanrights, transrightsarehumanright, transrightsarehumanrights, tronaldoandtrumppartneruptopurchasemontecarlohotel, trumpassailsuschamberofcommerceovertradehtml, trumpathoncompresidentdona, trumpbanstransgenderfromhtmlspreftw, trumpbanstransgenderpeoplehtmlutmsourcedlvritutmmediumtwitter, trumpdowndayshoursminutessecondstime, trumphexandidontapologizehtmlm, trumpknowshowtomakeadeal, trumpsaysnotransgenderindividualswillserveinusmilitarypfmredirsm, trumpsaystransgenderpeoplebarredfromusmilitary, trumpsingleslisamurkowskivotingagainsthealthcaredebate, trumpthrowsthetransgendercommunityunderthebus, trumpvshillarynetproductbigmou, trumpvshillarynetproductpopth, trumpweighsinonhisiowaleadovertedcruz, tvrapturecomrealcopyrepo, twentytwowordscomittookawhil, uliamlividtrumpcriticizedforodddisjointedspeechtoboyscoutscmpsharebtntw, ultrumpsaysusmilitarywillnotacceptorallowtransgenderpeopletoservecmpsharebtntw, ultrumpsaysusmilitarywillnotacceptorallowtransgenderpeopletoservecmpshareiosappother, umpbanstransformersfromservingintheusarmy, umppopulistuscebfbacf, umpsaystransgenderpeoplehtml, umpsaystransgenderpeoplehtmltsrcfauxdal, umpsayswhitehousehtml, umpstartsconsideriowahtml, umptweetgeneratorwhatwouldpresidenttrumptweetaboutyouutmsourcesocialmobutmmediumcpcutmterminfluencerutmcontentumtscdekgggumtctdbgxsbnnbdfqncxotnngoxljjdwwedy, umptweetgeneratorwhatwouldpresidenttrumptweetaboutyouutmsourcesocialmobutmmediumcpcutmterminfluencerutmcontentumtscdekpneumtctdbgxsbmoahdpzhgymsydhlmtfzcydwwedy, unbornlivesmatter, usainfoboxcomlivepollbern, usapoliticstodaycomwatchdognames, ushealthyadvisorcomhillaryclinto, utmsourcetwitterutmmediumsocialutmtermmakeamericagreatagainutmcontentjohnggaltutmcampaignreframednews, utmsourcetwitterutmmediumsocialutmtermsocialmediautmcontenttrumpmypresutmcampaignreframednews, varietycombiznews, videofoxnewscomv, wapostndbroltidss, wapostpickietidss, watchelizabethwarrentakedowndonaldtrumpinminutmcampaignvoxutmcontentarticleatoputmmediumsocialutmsourcetwitter, watchlatestnewscompresidentdona, webmdcomatozguides, whntcommassachusett, whyisdonaldtrumpaskingbritishmpsforcash, wijwefeatureshare, woaytvpresidentdona, worldinwareupresidentialt, wsjcomarticleshilla, xaniatubecompresidentdona, yahoocomnewsdonaldtr, yahoocomnewspaulryan, yahoocomnewstransgend, yclintonhaschanceofdefeatingtrumpnatesilverpredictshtml, yclintontofaceracketeeringcharges, yssanderssecretlyhateshillaryclinton, zerohedgecomnews))

dim(df.FuzzyRules)

#Vamos a crear funciones para obtener el tf

term.frequency <- function(row) {
  row / sum(row)
}

str(df.FuzzyRules)
normalizado <- apply(df.FuzzyRules, 1, term.frequency)
normalizado<-t(normalizado)

#Vamos a intentar pasar estos datos a transaccion
normalizado
write.csv2(normalizado, file = "datosdifusos.csv", sep="\t")

df.FuzzyRules<-as.data.frame(normalizado)

#Usamos el algoritmo difuso

fuzzAp <- FuzzyApriori_A(df.FuzzyRules)
fuzzAp$run()

#Vamos a guardar varios datos para cargarlos en el otro proyecto

save(finalCorpus, items, file="/Users/joseadiazg/Desktop/twitter-text-mining/export.Rdata")
unlink("export.Rdata")

write(transactions, file="/Users/joseadiazg/Desktop/twitter-text-mining/transaccionescrips.csv")

